# 파이프라인 상세 문서

> 최종 수정: 2026-02-21

## 목표

AI/Stock 트렌드 콘텐츠를 자동으로 수집, 분석, 생성하여 Threads에 게시하는 시스템.
choi.openai 스타일의 정보성 + 인사이트 게시물을 자동화.

---

## 1. 전체 파이프라인

```
[소스 모니터링] → [크롤링] → [필터링] → [콘텐츠 생성] → [이미지 처리] → [게시]
```

| 단계 | 설명 | 담당 |
|------|------|------|
| 소스 모니터링 | GitHub, 뉴스, 블로그 등 주기적 확인 | 크롤러 |
| 크롤링 | 새 콘텐츠 감지 및 데이터 수집 | 크롤러 |
| 필터링 | "올릴 만한 콘텐츠인가?" 판단 | 에이전트 |
| 콘텐츠 생성 | 요약 + 분석 + 의견 작성 | 에이전트 (LLM) |
| 이미지 처리 | 원본 이미지 또는 스크린샷 | 에이전트 |
| 게시 | Threads API로 업로드 | Publisher |

---

## 2. 왜 크롤링이 필요한가?

### 웹서치 vs 크롤링 비교

| 항목 | 웹서치 (Tavily) | 크롤링 (RSS/Playwright) |
|------|-----------------|------------------------|
| 속도 | 느림 (검색 인덱싱 대기) | 빠름 (실시간 감지) |
| 특정 소스 | 지정 불가 | 원하는 소스만 모니터링 |
| 비용 | API 호출당 과금 | 무료 |
| 중복 체크 | 어려움 | 벡터 DB로 가능 |

### 실제 시나리오

**상황: OpenAI가 GPT-5 발표 (방금 블로그에 올림)**

웹서치만 사용:
```
10:00 - OpenAI 블로그에 글 게시
10:05 - Tavily 검색 "OpenAI news" → 안 나옴 (아직 인덱싱 안됨)
12:00 - 이제 검색됨 (2시간 늦음)
12:00 - 다른 계정들은 이미 다 올림
```

크롤링 사용:
```
10:00 - OpenAI 블로그에 글 게시
10:01 - RSS 크롤러가 새 글 감지
10:02 - 에이전트가 콘텐츠 생성
10:03 - Threads에 게시 (남들보다 빠름)
```

### 결론

- **실시간성이 중요하면** → 크롤링 필수
- **특정 소스 모니터링** → 크롤링 필수
- **중복 방지** → 크롤링 + 벡터 DB

---

## 3. 왜 웹서치가 필요한가? (선택적)

### 웹서치가 유용한 경우

| 상황 | 예시 |
|------|------|
| 비교 정보 필요 | "Higgsfield vs Open-Higgsfield 가격" |
| 최신 맥락 필요 | "경쟁사 반응", "커뮤니티 평가" |
| 추가 정보 보강 | "이 기술의 배경", "관련 뉴스" |

### 웹서치 없이도 되는 경우

| 상황 | 이유 |
|------|------|
| 기본적인 도구 소개 | LLM이 이미 알고 있음 |
| 간단한 비교/분석 | LLM 자체 지식으로 커버 |
| 요약만 필요한 경우 | 크롤링 데이터로 충분 |

### MVP 전략

```
Phase 1 (MVP): 웹서치 없이 시작
  - 크롤링 데이터 + LLM 자체 지식
  - 빠르게 출시

Phase 2 (고도화): 웹서치 추가
  - 콘텐츠 퀄리티 향상
  - 더 풍부한 맥락 제공
```

---

## 4. 크롤링 대상

### AI 트렌드

| 소스 | 방식 | 수집 내용 |
|------|------|----------|
| GitHub Trending | API/크롤링 | AI/ML 관련 인기 레포 |
| Product Hunt | RSS/API | 새로 출시된 AI 제품 |
| Hacker News | API | AI 관련 핫 포스트 |
| OpenAI Blog | RSS | 공식 발표, 업데이트 |
| Anthropic Blog | RSS | Claude 관련 뉴스 |
| Google AI Blog | RSS | Gemini, 연구 발표 |
| arXiv cs.AI | RSS | 새 논문 |

### Stock 트렌드

| 소스 | 방식 | 수집 내용 |
|------|------|----------|
| Bloomberg | RSS/크롤링 | 시장 뉴스 |
| Reuters | RSS | 글로벌 금융 뉴스 |
| 증권사 리포트 | Playwright | 투자 리포트 |
| SEC Filings | API | 공시 정보 |

---

## 5. 에이전트 워크플로우

### 노드 구성

```
[Raw Data] 크롤링된 원본 데이터
     ↓
[Filter] "올릴 만한가?" 판단
     ↓ (통과)
[Analyze] 핵심 포인트 추출
     ↓
[Generate] 스타일에 맞게 콘텐츠 생성
     ↓
[Image] 이미지 가져오기/스크린샷
     ↓
[Publish] Threads API 게시
```

### 각 노드 상세

**Filter (필터링)**
```
입력: GitHub 레포 정보
조건:
  - 스타 100개 이상
  - AI/ML 관련 키워드 포함
  - 최근 24시간 내 급상승
  - 이전에 올린 적 없음 (벡터 DB 체크)
출력: 통과/스킵
```

**Analyze (분석)**
```
입력: 레포 README, 설명, 메타데이터
추출:
  - 이 도구가 뭐하는 건지 (한 줄 요약)
  - 핵심 기능 3가지
  - 기존 도구 대비 장점
  - 타겟 사용자
출력: 구조화된 분석 결과
```

**Generate (생성)**
```
입력: 분석 결과
스타일:
  - 톤: 정보 전달 + 인사이트
  - 형식: 스레드 (1/2, 2/2)
  - 길이: 첫 번째 200-300자, 두 번째 100-200자
출력:
  - thread_1: 핵심 소개 + 기능 설명
  - thread_2: 링크 + 추가 정보
```

**Image (이미지)**
```
우선순위:
  1. 원본 콘텐츠에 이미지가 있으면 사용
  2. GitHub README 첫 번째 이미지
  3. 웹페이지 스크린샷 (Playwright)
  4. 링크 미리보기만 사용
```

---

## 6. 출력 예시

### 입력 (크롤링 데이터)

```json
{
  "source": "GitHub Trending",
  "repo": "Anil-matcha/Open-Higgsfield-AI",
  "stars": 2000,
  "description": "Open-source alternative to Higgsfield AI",
  "readme": "Free AI image generation & cinema studio..."
}
```

### 출력 (생성된 콘텐츠)

**Thread 1/2:**
```
Open Higgsfield AI는 Higgsfield AI와 유사한 영상/이미지 생성 워크플로우를 제공하는 오픈소스 도구입니다.

Muapi 기반으로 20개 이상의 모델을 지원하며, 최근에는 Cinema Studio 기능도 포함됐습니다.

Cinema Studio에서는 카메라 종류, 렌즈, 초점거리, 조리개 값 등을 조절해 영화 장면 같은 이미지를 만들 수 있습니다.

다만, 할인폭이 큰 Higgsfield 직접 이용 대비 가격 경쟁력은 없어보입니다. 1/2
```

**Thread 2/2:**
```
깃허브:
github.com/Anil-matcha/Open-Higgsfield-AI 2/2
```

---

## 7. 유즈케이스

### Case 1: AI 도구 소개 계정

**목표**: AI 관련 새 도구/서비스를 빠르게 소개

**설정**:
- 소스: GitHub Trending, Product Hunt
- 필터: AI/ML 태그, 스타 100+
- 톤: 정보 전달 + 간단한 평가

**결과**:
- 하루 3-5개 자동 게시
- 남들보다 빠른 정보 공유로 팔로워 증가

### Case 2: AI 뉴스 속보 계정

**목표**: OpenAI, Google 등 빅테크 발표 즉시 공유

**설정**:
- 소스: OpenAI Blog, Google AI Blog, Anthropic Blog (RSS)
- 필터: 모든 새 글
- 톤: 속보 스타일 + 핵심 요약

**결과**:
- 공식 발표 1-2분 내 게시
- 속보성으로 리포스트/인용 증가

### Case 3: 투자 정보 계정

**목표**: 주식/크립토 관련 뉴스 자동 공유

**설정**:
- 소스: Bloomberg, Reuters, SEC Filings
- 필터: 특정 키워드 (Tesla, NVIDIA, Bitcoin 등)
- 톤: 팩트 중심 + 시장 영향 분석

**결과**:
- 중요 공시/뉴스 빠른 공유
- 투자자 대상 팔로워 확보

### Case 4: 논문 소개 계정

**목표**: 최신 AI 논문을 쉽게 설명

**설정**:
- 소스: arXiv cs.AI, cs.LG
- 필터: 인용수 급증, 유명 연구소
- 톤: 쉬운 설명 + 핵심 기여

**결과**:
- 어려운 논문을 대중적으로 소개
- 연구자/개발자 팔로워 확보

---

## 8. 장점 정리

| 장점 | 설명 |
|------|------|
| 실시간성 | 크롤링으로 새 콘텐츠 즉시 감지 |
| 일관성 | 24시간 자동 운영, 사람 개입 불필요 |
| 확장성 | 소스 추가만으로 커버리지 확대 |
| 중복 방지 | 벡터 DB로 같은 내용 재게시 방지 |
| 비용 절감 | 수동 운영 대비 인건비 절약 |
| 스타일 유지 | 프롬프트로 일관된 톤/스타일 |

---

## 9. MVP vs 풀버전

| 기능 | MVP | 풀버전 |
|------|-----|--------|
| 크롤링 | RSS만 | RSS + Playwright |
| 소스 | GitHub, 블로그 3-4개 | 10개+ |
| 필터링 | 단순 규칙 | LLM 판단 |
| 웹서치 | X | O |
| 이미지 | 원본만 | 스크린샷 생성 |
| 스레드 | 1개 | 2-3개 연결 |
| 대시보드 | X | O |
| 알림 | X | Discord/Telegram |

---

## 10. 다음 단계

1. **스키마 확정** - 데이터 모델 최종 검토
2. **크롤러 MVP** - GitHub Trending, 블로그 RSS
3. **에이전트 MVP** - Filter → Generate 기본 플로우
4. **Threads 연동** - API 게시 테스트
5. **통합 테스트** - 전체 파이프라인 실행
6. **고도화** - 웹서치, 이미지, 대시보드 추가
